<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vote Submitted Successfully!</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="stars"></div>
    <div class="sparkles"></div>
    
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <div class="logo">
                    <div class="logo-crown">üëë</div>
                    <span>Miss Gorgeous Hearts</span>
                </div>
            </div>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="{{ url_for('index') }}">Home</a></li>
                <li><a href="{{ url_for('gallery') }}">Contestants</a></li>
                <li><a href="{{ url_for('how_to_vote') }}">How to Vote</a></li>
                <li><a href="{{ url_for('index') }}#contact">Contact</a></li>
            </ul>
        </div>
    </nav>
    <div class="nav-overlay"></div>

    <section class="success-section">
        <div class="container">
            <!-- Success Animation -->
            <div class="success-animation">
                <div class="success-checkmark">
                    <div class="check-icon">
                        <span class="icon-line line-tip"></span>
                        <span class="icon-line line-long"></span>
                        <div class="icon-circle"></div>
                        <div class="icon-fix"></div>
                    </div>
                </div>
            </div>

            <!-- Success Message -->
            <div class="success-content">
                <h1 class="success-title">üéâ Payment Submitted Successfully!</h1>
                <p class="success-subtitle">Thank you for supporting {{ transaction.contestant_name }}</p>
                
                <div class="confetti">
                    <div class="confetti-piece"></div>
                    <div class="confetti-piece"></div>
                    <div class="confetti-piece"></div>
                    <div class="confetti-piece"></div>
                    <div class="confetti-piece"></div>
                    <div class="confetti-piece"></div>
                    <div class="confetti-piece"></div>
                    <div class="confetti-piece"></div>
                </div>
            </div>

            <!-- Transaction Details -->
            <div class="transaction-card">
                <h2>üìã Transaction Details</h2>
                
                <div class="transaction-details">
                    <div class="detail-row">
                        <span class="detail-label">Transaction ID</span>
                        <span class="detail-value transaction-id">{{ transaction.transaction_id }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Contestant</span>
                        <span class="detail-value">{{ transaction.contestant_name }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Reference</span>
                        <span class="detail-value">{{ transaction.contestant_id }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Amount Paid</span>
                        <span class="detail-value amount">R{{ transaction.amount }}</span>
                    </div>
                    <div class="detail-row highlight-row">
                        <span class="detail-label">Votes Purchased</span>
                        <span class="detail-value votes-purchased">{{ transaction.votes }} Votes üó≥Ô∏è</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Payment Method</span>
                        <span class="detail-value">{{ transaction.payment_method|replace('_', ' ')|title }}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date & Time</span>
                        <span class="detail-value">{{ transaction.timestamp[:19]|replace('T', ' ') }}</span>
                    </div>
                </div>

                <div class="transaction-status">
                    <div class="status-badge pending">
                        <span class="status-icon">‚è≥</span>
                        <span>Awaiting Verification</span>
                    </div>
                </div>
            </div>

            <!-- Next Steps -->
            <div class="next-steps-card">
                <h2>üìå What Happens Next?</h2>
                
                <div class="steps-timeline">
                    <div class="timeline-step completed">
                        <div class="step-marker">‚úì</div>
                        <div class="step-content">
                            <h3>Step 1: Payment Submitted</h3>
                            <p>Your payment information has been recorded</p>
                        </div>
                    </div>
                    
                    <div class="timeline-step active">
                        <div class="step-marker">2</div>
                        <div class="step-content">
                            <h3>Step 2: Send Payment Proof</h3>
                            <p>Send your payment screenshot via WhatsApp for verification</p>
                            <div class="whatsapp-buttons-success">
                                {% for number in contact_info.whatsapp %}
                                <a href="https://wa.me/27{{ number[1:] }}?text=Payment%20Proof%20-%20Transaction%20ID:%20{{ transaction.transaction_id }}%0AContestant:%20{{ transaction.contestant_name }}%20({{ transaction.contestant_id }})%0AAmount:%20R{{ transaction.amount }}%0AVotes:%20{{ transaction.votes }}" 
                                   class="btn btn-whatsapp" target="_blank">
                                   üì± Send to {{ number }}
                                </a>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-marker">3</div>
                        <div class="step-content">
                            <h3>Step 3: Verification (Within 24 hours)</h3>
                            <p>Our team will verify your payment</p>
                        </div>
                    </div>
                    
                    <div class="timeline-step">
                        <div class="step-marker">4</div>
                        <div class="step-content">
                            <h3>Step 4: Votes Added</h3>
                            <p>Your {{ transaction.votes }} votes will be added to {{ transaction.contestant_name }}'s total</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Important Reminders -->
            <div class="reminder-card">
                <h3>‚ö†Ô∏è Important Reminders</h3>
                <ul class="reminder-list">
                    <li>
                        <span class="reminder-icon">üì∏</span>
                        <span>Keep your payment proof screenshot ready</span>
                    </li>
                    <li>
                        <span class="reminder-icon">üîñ</span>
                        <span>Always mention Transaction ID: <strong>{{ transaction.transaction_id }}</strong></span>
                    </li>
                    <li>
                        <span class="reminder-icon">‚è±Ô∏è</span>
                        <span>Verification usually takes less than 24 hours</span>
                    </li>
                    <li>
                        <span class="reminder-icon">üí¨</span>
                        <span>Contact us on WhatsApp if you have any questions</span>
                    </li>
                </ul>
            </div>

            <!-- Action Buttons -->
            <div class="success-actions">
                <a href="{{ url_for('gallery') }}" class="btn btn-primary btn-large">
                    View All Contestants
                </a>
                <a href="{{ url_for('index') }}" class="btn btn-secondary btn-large">
                    Back to Home
                </a>
            </div>

            <!-- Share Support -->
            <div class="share-card">
                <h3>üì¢ Spread the Word!</h3>
                <p>Help {{ transaction.contestant_name }} win by sharing on social media</p>
                <div class="share-buttons">
                    <a href="https://www.facebook.com/sharer/sharer.php?u={{ request.url_root }}" 
                       class="share-btn facebook" target="_blank">
                        üìò Share on Facebook
                    </a>
                    <a href="https://twitter.com/intent/tweet?text=I%20just%20voted%20for%20{{ transaction.contestant_name }}%20in%20Miss%20Gorgeous%20Hearts%20Pretoria%202026!" 
                       class="share-btn twitter" target="_blank">
                        üê¶ Share on Twitter
                    </a>
                    <a href="https://wa.me/?text=I%20just%20voted%20for%20{{ transaction.contestant_name }}%20in%20Miss%20Gorgeous%20Hearts%20Pretoria%202026!%20Support%20her%20too!" 
                       class="share-btn whatsapp" target="_blank">
                        üí¨ Share on WhatsApp
                    </a>
                </div>
            </div>

            <!-- Additional Support -->
            <div class="additional-support">
                <h3>Want to add more votes?</h3>
                <p>You can purchase additional voting packages to increase your support!</p>
                <a href="{{ url_for('vote_page', contestant_id=transaction.contestant_id) }}" 
                   class="btn btn-secondary">
                    Vote Again
                </a>
            </div>
        </div>
    </section>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo-crown">üëë</div>
                    <span>Miss Gorgeous Hearts PTA</span>
                </div>
                <p class="footer-tagline">Real Queens Fix Each Other's Crowns</p>
                <p class="footer-copyright">&copy; 2026 Miss Gorgeous Hearts Pretoria. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    <script>
        // Trigger confetti animation
        window.addEventListener('load', function() {
            // Create more confetti pieces dynamically
            const confettiContainer = document.querySelector('.confetti');
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.backgroundColor = ['#D4AF37', '#F4E5C2', '#ffffff'][Math.floor(Math.random() * 3)];
                confettiContainer.appendChild(confetti);
            }

            // Animate success checkmark
            setTimeout(() => {
                document.querySelector('.success-checkmark').classList.add('animate');
            }, 300);
        });

        // Prevent back button (optional)
        // history.pushState(null, null, location.href);
        // window.onpopstate = function () {
        //     history.go(1);
        // };
    </script>
</body>
</html>
